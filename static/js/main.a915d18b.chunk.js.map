{"version":3,"sources":["app/seatsSlice.js","common/Main/styled.js","common/Main/index.js","features/RegistrationForm/styled.js","images/check32.png","common/Button/styled.js","features/RegistrationForm/index.js","features/ScreeningRoom/styled.js","common/Key/styled.js","common/Key/index.js","common/Container/styled.js","common/Container/index.js","features/ScreeningRoom/helpers.js","features/ScreeningRoom/index.js","features/SummaryView/styled.js","features/SummaryView/index.js","App.js","GlobalStyle.js","api/index.js","features/ScreeningRoom/getProposedSeats.js","app/seatsSaga.js","app/store.js","serviceWorker.js","index.js"],"names":["seatsSlice","createSlice","name","initialState","seats","qtySBU","sideBySide","seatsSBU","reducers","getSeats","setSeats","state","payload","setQtySBU","toggleSideBySide","addSeat","push","removeSeat","index","findIndex","seat","id","splice","removeAllSeats","setSeatsSBU","actions","selectSeats","selectQtySBU","selectSideBySide","selectSeatsSBU","StyledMain","styled","main","screen","css","Main","props","children","StyledRegistrationForm","form","Label","label","CheckboxLabel","Input","input","Checkbox","StyledButton","button","confirm","RegistrationForm","useState","redirect","setRedirect","history","useHistory","dispatch","useDispatch","useSelector","useEffect","replace","to","onSubmit","event","preventDefault","console","log","htmlFor","type","value","onChange","parseInt","target","handlePosition","position","Screen","div","Seat","row","column","StyledKeySeat","reserved","checked","Key","StyledContainer","section","Container","getSeatsUnreserved","q","unreservedSeats","length","element","find","s","indexOf","ScreeningRoom","onChecked","x","y","proposedSeats","filter","cords","seatsy","i","map","slice","e","some","every","checkCordsY","checkReservation","alert","onUnchecked","disabled","onClick","location","pathname","Title","h1","Ul","ul","ListItem","li","SummaryView","App","path","GlobalStyle","createGlobalStyle","fetchData","a","axios","get","response","data","error","getProposedSeats","quantity","fetchSeatsHandler","getProposedSeatsHandler","checkSeatsReservationHandler","watchfetchSeats","call","put","select","quanity","proposalSeats","takeEvery","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","seatsReducer","middleware","run","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a915d18b.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst seatsSlice = createSlice({\n    name: 'seats',\n    initialState: {\n        seats: [],\n        qtySBU: 0, //quanity of seats selected by user\n        sideBySide: false,\n        seatsSBU: [] //seats selected by user\n    },\n    reducers: {\n        getSeats: () => { },\n        setSeats: (state, { payload }) => {\n            state.seats = payload;\n        },\n        setQtySBU: (state, { payload }) => {\n            state.qtySBU = payload;\n        },\n        toggleSideBySide: (state) => {\n            state.sideBySide = !state.sideBySide;\n        },\n        addSeat: (state, { payload }) => {\n            state.seatsSBU.push(payload);\n        },\n        removeSeat: (state, { payload }) => {\n            const index = state.seatsSBU.findIndex(seat => seat.id === payload);\n            state.seatsSBU.splice(index, 1);\n        },\n        removeAllSeats: (state) => {\n            state.seatsSBU = [];\n        },\n        setSeatsSBU: (state, { payload }) => {\n            state.seatsSBU = payload;\n        }\n    }\n});\n\nexport const { getSeats, setSeats, setQtySBU, toggleSideBySide, addSeat, removeSeat, removeAllSeats, setSeatsSBU } = seatsSlice.actions;\nexport const selectSeats = state => state.seats.seats;\nexport const selectQtySBU = state => state.seats.qtySBU;\nexport const selectSideBySide = state => state.seats.sideBySide;\nexport const selectSeatsSBU = state => state.seats.seatsSBU;\nexport default seatsSlice.reducer;","import styled, { css } from \"styled-components\";\n\nexport const StyledMain = styled.main`\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n\n    ${({ screen }) => screen && css`\n        height: unset;\n        width: 100vw;\n    `};\n`;","import { StyledMain } from \"./styled\";\n\nconst Main = (props) => {\n    return (\n        <StyledMain {...props}>\n            {props.children}\n        </StyledMain>\n    )\n};\n\nexport default Main;","import styled from \"styled-components\";\nimport checkImage from \"../../images/check32.png\";\n\nexport const StyledRegistrationForm = styled.form`\n    max-width: 500px;\n    padding: 10px;\n    display: grid;\n    grid-template-areas: \n    \"label label input input\"\n    \"checkbox checkboxLabel checkboxLabel checkboxLabel\"\n    \"button button button button\";\n    grid-template-columns: 1fr;\n    grid-template-rows: repeat(2, 50px) 70px;\n    row-gap: 30px;\n    column-gap: 10px;\n`;\n\nexport const Label = styled.label`\n    grid-area: label;\n    align-self: center;\n`;\n\nexport const CheckboxLabel = styled(Label)`\n    grid-area: checkboxLabel;\n`;\n\nexport const Input = styled.input`\n    grid-area: input;\n    border: 1px solid black;\n`;\n\nexport const Checkbox = styled.input`\n    grid-area: checkbox;\n    align-self: center;\n    justify-self: center;\n    appearance: none;\n    border: 1px solid black;\n    border-radius: 3px;\n    padding: 15px;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n\n    &:checked {\n        background-image: url(${checkImage});\n        background-position: center;\n    }\n`;\n\n// export const Button = styled.button`\n//     grid-area: button;\n//     cursor: pointer;\n//     background-color: white;\n//     border: 1px solid black;\n//     transition: background-color 1s;\n\n//     &:hover {\n//         background-color: rgb(226, 95, 18, .5);\n//     }\n// `;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiElEQVRYhe2UsQmAMBQFD0QygxNkFnFbK3dwBlsnsNciKUJAkiYvoP8gbe7APMEw/s4g8ozADFzxSHHACtzA0VMuD8jlJ+BNbvIaJmAhbFcuhzCVO17o1PI0oCaiyTf38aJSRNMHV4qQvPa3COnU8ogtHunO84guP5k8QipPI3bCTOVywzC+ywMb6VdXK4fyHgAAAABJRU5ErkJggg==\"","import styled, { css } from \"styled-components\";\n\nexport const StyledButton = styled.button`\n    cursor: pointer;\n    background-color: white;\n    border: 1px solid black;\n    transition: background-color 1s;\n    height: 100%;\n\n    &:hover {\n        background-color: rgb(226, 95, 18, .5);\n    }\n\n    ${({ confirm }) => confirm && css`\n        grid-area: button;\n    `};\n`;","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { getSeats, selectQtySBU, selectSideBySide, setQtySBU, toggleSideBySide } from \"../../app/seatsSlice\";\nimport Main from \"../../common/Main\";\nimport { StyledRegistrationForm, Label, CheckboxLabel, Input, Checkbox } from \"./styled\";\nimport { StyledButton } from \"../../common/Button/styled\";\n\nconst RegistrationForm = () => {\n    const [redirect, setRedirect] = useState(false);\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const qtySBU = useSelector(selectQtySBU);\n    const sideBySide = useSelector(selectSideBySide);\n\n    const onNumberChange = (event) => {\n        dispatch(setQtySBU(parseInt(event.target.value)));\n    }\n\n    const onCheckboxChange = () => {\n        dispatch(toggleSideBySide());\n    }\n\n    const onFormSubmit = (event) => {\n        event.preventDefault();\n        console.log(`Liczba wybranych miejsc wynosi ${qtySBU} a miejsca są obok siebie: ${sideBySide}`);\n\n        setRedirect(true);\n        dispatch(getSeats());\n    }\n\n    //Narazie po odświeżeniu wraca do widoku formularza, ale lepszym rozwiązaniem raczej będzie dodanie przycisku 'cofnij' z sali kinowej\n    useEffect(() => {\n        history.replace(\"/\");\n    }, []);\n\n    if (!redirect) {\n        return (\n            <Main>\n                <StyledRegistrationForm onSubmit={onFormSubmit}>\n                    <Label htmlFor=\"numberOfSeats\">Liczba miejsc:</Label>\n                    <Input type=\"number\" id=\"numberOfSeats\" value={qtySBU} onChange={onNumberChange} />\n                    <Checkbox type=\"checkbox\" id=\"sideBySide\" value={sideBySide} onChange={onCheckboxChange} />\n                    <CheckboxLabel htmlFor=\"sideBySide\">Czy miejsca mają być obok siebie?</CheckboxLabel>\n                    <StyledButton confirm={true}>Wybierz miejsca</StyledButton>\n                </StyledRegistrationForm>\n            </Main>\n        );\n    };\n\n    return (\n        <Redirect to=\"/screening-room\" />\n    );\n}\n\nexport default RegistrationForm;\n","import styled from \"styled-components\";\n\nconst handlePosition = (position) => {\n    return position + 1;\n}\n\nexport const Screen = styled.div`\n    display: grid;\n    width: 1040px;\n    grid-template-columns: repeat(auto-fill, min(60px));\n    row-gap: 10px;\n    column-gap: 10px;\n    margin-top: 30px;\n`;\n\nexport const Seat = styled.input`\n    appearance: none;\n    width: 60px;\n    height: 60px;\n    border: 1px solid black;\n    grid-row: ${({ row }) => handlePosition(row)};\n    grid-column: ${({ column }) => handlePosition(column)};\n\n    &:checked, &:hover {\n        background-color: orange;\n    }\n\n    &:disabled {\n        background-color: gray;\n    }\n`;","import styled, { css } from \"styled-components\";\n\nexport const StyledKeySeat = styled.div`\n    margin-right: 15px;\n    height: 70px;\n    border: 1px solid black;\n\n    ${({ reserved }) => reserved && css`\n        background-color: gray;\n    `};\n\n    ${({ checked }) => checked && css`\n        background-color: orange;\n    `};\n`;","import { StyledKeySeat } from \"./styled\"\n\nconst Key = () => {\n    return (\n        <>\n            <StyledKeySeat></StyledKeySeat>\n            <p>Miejsca dostępne</p>\n            <StyledKeySeat reserved></StyledKeySeat>\n            <p>Miejsca zarezerwowane</p>\n            <StyledKeySeat checked></StyledKeySeat>\n            <p>Twój wybór</p>\n        </>\n    )\n};\n\nexport default Key;","import styled from \"styled-components\";\n\nexport const StyledContainer = styled.section`\n    display: grid;\n    grid-template-columns: repeat(3, 85px 1fr) 250px;\n    justify-content: center;\n    align-items: center;\n    margin: 40px auto;\n    width: 100%;\n    max-width: 1300px;\n`;\n","import { StyledContainer } from \"./styled\"\n\nconst Container = (props) => {\n    return (\n        <StyledContainer>{props.children}</StyledContainer>\n    )\n};\n\nexport default Container;","const checkCordsY = (s, i, element) => {\n    let result = 0;\n\n    if (typeof element[i + 1] === `undefined`) {\n        result = s.cords.y - element[i - 1].cords.y\n    } else {\n        result = element[i + 1].cords.y - s.cords.y\n    }\n\n    return result;\n}\n\nexport const checkReservation = (seats, id, qtySBU, x) => {\n    seats = [\n        ...seats.filter(s => s.reserved === false && s.cords.x === x)\n    ];\n\n    const seatsy = [];\n\n    for (let i = 0; seatsy.length < 15; i++) {\n        seatsy.push(i);\n    }\n\n    seats = [\n        ...seats.map((s, index) => seats.slice(index, index + qtySBU)).filter(e => e.length === qtySBU),\n    ]\n\n    seats = seats.find(element => (element.some(s => s.id === id) && element.every((s, i, element) => checkCordsY(s, i, element) === 1)) === true)\n\n    return (typeof seats === `undefined` ? [] : seats);\n}\n\n\nexport const getSeatsUnreserved = (seats, q) => {\n    let unreservedSeats = [];\n\n    while (unreservedSeats.length < q) {\n        let element = seats.find(s => s.reserved === false);\n        let index = seats.indexOf(element);\n\n        unreservedSeats.push(element);\n        seats.splice(index, 1)\n    }\n\n    return unreservedSeats;\n}","import { useDispatch, useSelector } from 'react-redux';\nimport { addSeat, removeAllSeats, removeSeat, selectQtySBU, selectSeats, selectSeatsSBU, selectSideBySide, setSeatsSBU } from \"../../app/seatsSlice\";\nimport { Screen, Seat } from \"./styled\";\nimport Main from \"../../common/Main\";\nimport Key from '../../common/Key';\nimport Container from '../../common/Container';\nimport { useState } from 'react';\nimport { Redirect, useHistory } from 'react-router';\nimport { StyledButton } from '../../common/Button/styled';\nimport { checkReservation } from \"./helpers\";\n\nconst ScreeningRoom = () => {\n    const [redirect, setRedirect] = useState(false);\n    const history = useHistory();\n    const seats = useSelector(selectSeats);\n    const qtySBU = useSelector(selectQtySBU);\n    const seatsSBU = useSelector(selectSeatsSBU);\n    const sideBySide = useSelector(selectSideBySide);\n    const dispatch = useDispatch();\n\n    const onChange = (event, id, x, y) => {\n        if (event.target.checked) { \n            onChecked(event, id, x, y);\n        } else {\n            onUnchecked(id)\n        }\n    };\n\n    const onChecked = (event, id, x, y) => {\n        if (seatsSBU.length < qtySBU) {\n            if (sideBySide) {\n                const proposedSeats = checkReservation(seats, id, qtySBU, x);\n                dispatch(setSeatsSBU(proposedSeats));\n            } else {\n                dispatch(addSeat({\n                    id,\n                    cords: {\n                        x,\n                        y\n                    },\n                }))\n            }\n        } else {\n            event.target.checked = false;\n            alert(`Nie możesz wybrać więcej niż ${qtySBU} miejsc`)\n        };\n    };\n\n    const onUnchecked = (id) => {\n        sideBySide ? dispatch(removeAllSeats()) : dispatch(removeSeat(id));\n    }\n\n    const handleClick = () => {\n        if (history.location.pathname === \"/screening-room\") {\n            setRedirect(true);\n        }\n    }\n\n    if (!redirect) {\n        return (\n            <>\n                <Main screen>\n                    <Screen>\n                        {seats ? seats.map(seat =>\n                            <Seat\n                                key={seat.id}\n                                column={seat.cords.y}\n                                row={seat.cords.x}\n                                disabled={seat.reserved}\n                                type=\"checkbox\"\n                                checked={seatsSBU.find(s => s.id === seat.id) ? true : false}\n                                onChange={(event) => onChange(event, seat.id, seat.cords.x, seat.cords.y)}\n                            />) : \"Brak danych\"}\n                    </Screen>\n                </Main>\n                <Container>\n                    <Key></Key>\n                    <StyledButton onClick={handleClick} confirm={false} >Rezerwuj</StyledButton>\n                </Container>\n            </>\n        );\n    }\n\n    return (\n        <Redirect to=\"/confirmation\" />\n    )\n};\n\nexport default ScreeningRoom;","import styled from \"styled-components\";\n\nexport const Title = styled.h1`\n    font-size: 1.2em;\n`;\n\nexport const Ul = styled.ul`\n    margin-top: 0;\n    padding-left: 0;\n`;\n\nexport const ListItem = styled.li`\n    list-style: none;\n\n    &::before {\n        content: \"- \"\n    }\n`;","import { useSelector } from \"react-redux\";\nimport { selectSeatsSBU } from \"../../app/seatsSlice\";\nimport Main from \"../../common/Main\";\nimport { ListItem, Title, Ul } from \"./styled\";\n\nconst SummaryView = () => {\n    const seatsSBU = useSelector(selectSeatsSBU);\n\n    return (\n        <Main>\n            <Title>Twoja rezerwacja przebiegła pomyślnie!</Title>\n            <p>Wybrałeś/aś miejsca:</p>\n            <Ul>\n                {seatsSBU.length ? seatsSBU.map(seat => <ListItem>rząd {seat.cords.x}, miejsce {seat.cords.y} ({seat.id})</ListItem>) : \"Nie wybrano żadnych miejsc\"}\n            </Ul>\n            <p><b>Dziękujemy! W razie problemów prosimy o kontakt do administracji.</b></p>\n        </Main>\n    )\n};\n\nexport default SummaryView;","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport RegistrationForm from './features/RegistrationForm';\nimport ScreeningRoom from './features/ScreeningRoom';\nimport SummaryView from './features/SummaryView';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Route path=\"/screening-room\">\n        <ScreeningRoom />\n      </Route>\n      <Route path=\"/confirmation\">\n        <SummaryView />\n      </Route>\n      <Route path=\"/\">\n        <RegistrationForm />\n      </Route>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n    html {\n        box-sizing: border-box;\n    }\n\n    *, ::before, ::after {\n        box-sizing: inherit;\n    }\n\n    body {\n        font-family: 'Open Sans', sans-serif;\n        font-size: 1.3em;\n    }\n`;","import axios from 'axios';\n\nexport const fetchData = async () => {\n    try {\n        const response = await axios.get(\"http://localhost:3000/seats\");\n        return response.data;\n    } catch (error) {\n        console.error(\"Nie udało się pobrać danych dotyczących miejsc w kinie\", error);\n    }\n};","import axios from 'axios';\nimport { getSeatsUnreserved } from './helpers';\n\nexport const getProposedSeats = async (quantity) => {\n    try {\n        const response = await axios.get(\"http://localhost:3000/seats\");\n        const proposedSeats = getSeatsUnreserved(response.data, quantity)\n        return proposedSeats;\n    } catch (error) {\n        console.error(\"Nie udało się pobrać danych dotyczących miejsc w kinie\", error);\n    }\n};","import { call, put, select, takeEvery } from \"redux-saga/effects\";\nimport { fetchData } from \"../api/index\";\nimport { getProposedSeats } from \"../features/ScreeningRoom/getProposedSeats\";\nimport { getSeats, selectQtySBU, selectSeatsSBU, setSeats, setSeatsSBU } from \"./seatsSlice\";\n\nfunction* fetchSeatsHandler() {\n    try {\n        const seats = yield call(fetchData);\n        yield put(setSeats(seats));\n    } catch (error) {\n        yield call(alert, \"Nie udało się przekazać danych z API do stanu aplikacji\", error);\n    };\n};\n\nfunction* getProposedSeatsHandler() {\n    try {\n        const quanity = yield select(selectQtySBU);\n        const proposalSeats = yield call(getProposedSeats, quanity);\n        yield put(setSeatsSBU(proposalSeats));\n    } catch (error) {\n        yield call(alert, \"Nie udało się przekazać danych z API do stanu aplikacji\", error);\n    }\n}\n\nfunction* checkSeatsReservationHandler() {\n    try {\n        const seatsSBU = yield select(selectSeatsSBU);\n\n        if (!seatsSBU.length) {\n            alert(\"Proszę wybrać inne miejsca\");\n        }\n\n    } catch (error) {\n        yield call(console.log, error);\n    }\n};\n\nexport function* watchfetchSeats() {\n    yield takeEvery(getSeats.type, fetchSeatsHandler);\n    yield takeEvery(getSeats.type, getProposedSeatsHandler);\n    yield takeEvery(setSeatsSBU.type, checkSeatsReservationHandler);\n}\n","import { configureStore } from '@reduxjs/toolkit';\nimport createSagaMiddleware from 'redux-saga';\nimport { watchfetchSeats } from './seatsSaga';\nimport seatsReducer from \"./seatsSlice\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nexport const store = configureStore({\n    reducer: {\n        seats: seatsReducer,\n    },\n    middleware: [sagaMiddleware],\n});\n\nsagaMiddleware.run(watchfetchSeats);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'normalize.css';\nimport { GlobalStyle } from \"./GlobalStyle\";\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <GlobalStyle />\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}